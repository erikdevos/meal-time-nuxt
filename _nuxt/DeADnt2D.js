import{_ as h,o as i,c as d,r as v,a as n,x as $,y as k,z as C,A as w,f as y,d as L,b as _,t as b,w as z,B as x,F as I,C as S,m as F,s as B}from"./D8cQXjik.js";import{_ as T}from"./Bn-GIj02.js";const N={},V={class:"selected-meals",id:"selectedMealsContainer"};function U(t,s){return i(),d("div",V)}const G=h(N,[["render",U]]),R={class:"search-form-wrapper"},j={class:"search-input-wrapper"},D=["disabled"],H={__name:"search-bar",props:{meals:{type:Array,required:!0}},emits:["updateMeals"],setup(t,{emit:s}){const l=t,e=v(""),r=s;let u=null;const a=()=>{clearTimeout(u),u=setTimeout(()=>{const p=l.meals.filter(c=>{var f,g;const m=e.value.toLowerCase();return((f=c==null?void 0:c.name)==null?void 0:f.toLowerCase().includes(m))||((g=c==null?void 0:c.description)==null?void 0:g.toLowerCase().includes(m))});r("updateMeals",[...p])},300)},o=()=>{e.value="",r("updateMeals",l.meals)};return(p,c)=>(i(),d("div",R,[n("form",{onSubmit:C(a,["prevent"])},[n("div",j,[$(n("input",{type:"text",id:"search-input",class:"search-input","onUpdate:modelValue":c[0]||(c[0]=m=>e.value=m),placeholder:"Zoek een gerecht",autofocus:"",onInput:a},null,544),[[k,e.value]]),n("button",{type:"button",class:"button primary no-animate clear-button",onClick:o,disabled:!e.value}," Ã— ",8,D)])],32)]))}},O=h(H,[["__scopeId","data-v-a70f1b8e"]]),q="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20800%20562.2'%20style='enable-background:new%200%200%20800%20562.2;'%20xml:space='preserve'%3e%3cpath%20d='M693.5,314c-12.2-12.2-32-12.2-44.3,0c-12.2,12.2-12.2,32,0,44.3l43.9,43.9h-29.2c-28.4,0-56.2-10-78.1-28.1l-112.5-93%20l112.5-93c21.9-18.1,49.6-28.1,78.1-28.1h29.2l-43.9,43.9c-12.2,12.2-12.2,32,0,44.3c6.1,6.1,14.1,9.2,22.1,9.2s16-3.1,22.1-9.2%20l97.4-97.4c12.2-12.2,12.2-32,0-44.3L693.5,9.2c-12.2-12.2-32-12.2-44.3,0c-12.2,12.2-12.2,32,0,44.3l43.9,43.9h-29.2%20c-43,0-84.9,15.1-118,42.5L424.2,240.5L287.1,127.1c-23.2-19.2-52.5-29.7-82.5-29.7H31.3C14,97.4,0,111.4,0,128.7S14,160,31.3,160%20h173.3c15.5,0,30.6,5.4,42.6,15.3l127.9,105.8L247.2,386.9c-12,9.9-27.1,15.3-42.6,15.3H31.3C14,402.2,0,416.2,0,433.5%20c0,17.3,14,31.3,31.3,31.3h173.3c30,0,59.3-10.5,82.5-29.7l137.1-113.4l121.7,100.6c33.1,27.4,75,42.5,118,42.5h29.2l-43.9,43.9%20c-12.2,12.2-12.2,32,0,44.3c6.1,6.1,14.1,9.2,22.1,9.2c8,0,16-3.1,22.1-9.2l97.4-97.4c12.2-12.2,12.2-32,0-44.3L693.5,314z'%20fill='%23FFFFFF'/%3e%3c/svg%3e";function M(t){let s=t.length,l,e;for(;s!==0;)l=Math.floor(Math.random()*s),s-=1,e=t[s],t[s]=t[l],t[l]=e;return console.log("Shuffle meals"),t}const A={class:"filter-items"},E={__name:"filter-items",emits:["updateMeals"],setup(t,{emit:s}){const l=s,e=v([]),r=u=>{e.value.includes(u)?e.value=e.value.filter(a=>a!==u):e.value.push(u),l("updateMeals",e.value)};return(u,a)=>(i(),d("div",A,[a[4]||(a[4]=n("span",{class:"label"},"Laat zien:",-1)),n("button",{class:w(["secondary",{active:e.value.includes("healthy")}]),onClick:a[0]||(a[0]=o=>r("healthy"))}," Gezond ",2),n("button",{class:w(["secondary",{active:e.value.includes("cheap")}]),onClick:a[1]||(a[1]=o=>r("cheap"))}," Betaalbaar ",2),n("button",{class:w(["secondary",{active:e.value.includes("fast")}]),onClick:a[2]||(a[2]=o=>r("fast"))}," Snel ",2),n("button",{class:w(["secondary",{active:e.value.includes("treat")}]),onClick:a[3]||(a[3]=o=>r("treat"))}," Speciaal ",2)]))}},Q=h(E,[["__scopeId","data-v-d5865634"]]),Z={class:"filter-bar"},J={class:"overview-totals",id:"overviewTotals"},K={id:"totalResults"},P={__name:"filter-bar",props:{meals:Array},emits:["updateMeals"],setup(t,{emit:s}){const l=t,e=s,r=v([]),u=v(0);y(()=>l.meals,()=>{u.value=l.meals.filter(c=>r.value.every(m=>c.categoryLabels&&c.categoryLabels.includes(m))).length},{immediate:!0});const o=c=>{console.log("Active Filters Changed:",c),r.value=c;let m=[...l.meals];m=m.filter(f=>c.every(g=>f[g]==="1")),console.log("Filtered Meals:",m),e("updateMeals",m)},p=()=>{if(r.value.length===0){r.value=[],u.value=l.meals.length;const c=M([...l.meals]);e("updateMeals",c)}};return(c,m)=>(i(),d("div",Z,[n("button",{id:"refreshButton",class:"primary overview-refresh-button",onClick:p},m[0]||(m[0]=[L(" Shuffle "),n("span",{class:"icon"},[n("img",{src:q,alt:""})],-1)])),_(Q,{onUpdateMeals:o}),n("div",J,[n("span",K,b(u.value)+" gerechten",1)])]))}},W=h(P,[["__scopeId","data-v-69885dbf"]]),X={},Y={id:"messageContainer"};function ee(t,s){return i(),d("div",Y)}const te=h(X,[["render",ee]]),se={class:"meal-item__wrapper"},ae={class:"meal-image-wrapper"},le=["src","alt"],ne={class:"category-labels"},oe={key:0,class:"category-label"},ce={key:1,class:"category-label"},re={key:2,class:"category-label"},ie={key:3,class:"category-label"},de={class:"meal-info-wrapper"},ue={class:"short-description"},me={__name:"meal-item",props:{meal:Object},setup(t){return(s,l)=>{const e=T;return i(),d("div",se,[_(e,{to:`/meals/${t.meal.name.replace(/\s+/g,"-").replace(/[^a-z0-9-_]/gi,"").toLowerCase()}`},{default:z(()=>[n("div",ae,[n("img",{src:"meal-images/medium/"+t.meal.name.replace(/\s+/g,"_").replace(/[^a-z0-9_]/gi,"").toLowerCase()+".webp",alt:"Gerecht "+t.meal.name,loading:"lazy"},null,8,le),n("ul",ne,[t.meal.healthy==="1"?(i(),d("li",oe,"Gezond")):x("",!0),t.meal.cheap==="1"?(i(),d("li",ce,"Goedkoop")):x("",!0),t.meal.fast==="1"?(i(),d("li",re,"Snel")):x("",!0),t.meal.treat==="1"?(i(),d("li",ie,"Speciaal")):x("",!0)])]),n("div",de,[n("h2",null,b(t.meal.name),1),n("div",ue,b(t.meal.description),1)])]),_:1},8,["to"])])}}},pe=h(me,[["__scopeId","data-v-8cebaa21"]]),ve="data:image/svg+xml,%3csvg%20version='1.1'%20id='loader-1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='60px'%20height='60px'%20viewBox='0%200%2050%2050'%20style='enable-background:new%200%200%2050%2050;'%20xml:space='preserve'%3e%3cpath%20fill='%236bac6b'%20d='M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z'%3e%3canimateTransform%20attributeType='xml'%20attributeName='transform'%20type='rotate'%20from='0%2025%2025'%20to='360%2025%2025'%20dur='0.6s'%20repeatCount='indefinite'/%3e%3c/path%3e%3c/svg%3e",_e={},he={id:"loader",class:"loader-wrapper"};function fe(t,s){return i(),d("div",he,s[0]||(s[0]=[n("div",{class:"loader-image"},[n("img",{src:ve})],-1)]))}const ge=h(_e,[["render",fe],["__scopeId","data-v-9c66084c"]]),we={id:"dataContainer"},xe={key:0},be={key:1,class:"meals-container"},ye={__name:"meal-overview",props:{meals:{type:Array,required:!0}},setup(t){const s=t,l=v([]),e=v([]),r=v(!0),u=(a=!1)=>{console.log("Initializing meals, shuffled:",a),l.value=a?M([...s.meals]):[...s.meals],e.value=l.value.slice(0,99),r.value=!1};return y(()=>s.meals,a=>{console.log("Meals updated in meal-overview:",a),l.value=a,u(!1)}),(a,o)=>(i(),d("div",we,[r.value?(i(),d("div",xe,[_(ge)])):(i(),d("div",be,[(i(!0),d(I,null,S(e.value,p=>(i(),F(pe,{key:p.id,meal:p},null,8,["meal"]))),128))]))]))}},Me=h(ye,[["__scopeId","data-v-24f3d1b6"]]),Ce={__name:"overview",setup(t){const s=v([]),l=v([]),e=async()=>{try{const p=await(await fetch("https://erikdevos.github.io/meal-time-data/meals.json")).json();s.value=p||[],l.value=[...s.value]}catch(o){console.error("Error getting meals:",o)}},r=o=>{l.value=o},u=o=>{s.value=o,a(o)},a=o=>{l.value=o};return B(()=>{e()}),(o,p)=>(i(),d("div",null,[_(G),_(O,{meals:s.value,onUpdateMeals:r},null,8,["meals"]),_(W,{meals:s.value,onUpdateMeals:u},null,8,["meals"]),_(te),_(Me,{meals:l.value},null,8,["meals"])]))}};export{Ce as default};
