import{_ as f,o as d,c as u,r as h,a as t,x as C,y as L,z as B,f as y,d as F,A as x,t as b,b as _,w as T,F as $,B as k,m as z,s as I}from"./yJhaAKUm.js";import{_ as S}from"./CeCVHwkN.js";const N={},j={class:"selected-meals",id:"selectedMealsContainer"};function A(o,r){return d(),u("div",j)}const V=f(N,[["render",A]]),D={class:"search-form-wrapper"},H={class:"search-input-wrapper"},U=["disabled"],O={__name:"search-bar",props:{meals:{type:Array,required:!0}},emits:["updateMeals"],setup(o,{emit:r}){const n=o,c=h(""),s=r;let m=null;const l=()=>{clearTimeout(m),m=setTimeout(()=>{const g=n.meals.filter(i=>{var a,e;const w=c.value.toLowerCase();return((a=i==null?void 0:i.name)==null?void 0:a.toLowerCase().includes(w))||((e=i==null?void 0:i.description)==null?void 0:e.toLowerCase().includes(w))});s("updateMeals",[...g])},300)},p=()=>{c.value="",s("updateMeals",n.meals)};return(g,i)=>(d(),u("div",D,[t("form",{onSubmit:B(l,["prevent"])},[t("div",H,[C(t("input",{type:"text",id:"search-input",class:"search-input","onUpdate:modelValue":i[0]||(i[0]=w=>c.value=w),placeholder:"Zoek een gerecht",autofocus:"",onInput:l},null,544),[[L,c.value]]),t("button",{type:"button",class:"button primary no-animate clear-button",onClick:p,disabled:!c.value}," Ã— ",8,U)])],32)]))}},R=f(O,[["__scopeId","data-v-a70f1b8e"]]),q="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20800%20562.2'%20style='enable-background:new%200%200%20800%20562.2;'%20xml:space='preserve'%3e%3cpath%20d='M693.5,314c-12.2-12.2-32-12.2-44.3,0c-12.2,12.2-12.2,32,0,44.3l43.9,43.9h-29.2c-28.4,0-56.2-10-78.1-28.1l-112.5-93%20l112.5-93c21.9-18.1,49.6-28.1,78.1-28.1h29.2l-43.9,43.9c-12.2,12.2-12.2,32,0,44.3c6.1,6.1,14.1,9.2,22.1,9.2s16-3.1,22.1-9.2%20l97.4-97.4c12.2-12.2,12.2-32,0-44.3L693.5,9.2c-12.2-12.2-32-12.2-44.3,0c-12.2,12.2-12.2,32,0,44.3l43.9,43.9h-29.2%20c-43,0-84.9,15.1-118,42.5L424.2,240.5L287.1,127.1c-23.2-19.2-52.5-29.7-82.5-29.7H31.3C14,97.4,0,111.4,0,128.7S14,160,31.3,160%20h173.3c15.5,0,30.6,5.4,42.6,15.3l127.9,105.8L247.2,386.9c-12,9.9-27.1,15.3-42.6,15.3H31.3C14,402.2,0,416.2,0,433.5%20c0,17.3,14,31.3,31.3,31.3h173.3c30,0,59.3-10.5,82.5-29.7l137.1-113.4l121.7,100.6c33.1,27.4,75,42.5,118,42.5h29.2l-43.9,43.9%20c-12.2,12.2-12.2,32,0,44.3c6.1,6.1,14.1,9.2,22.1,9.2c8,0,16-3.1,22.1-9.2l97.4-97.4c12.2-12.2,12.2-32,0-44.3L693.5,314z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",E={class:"button-bar"},G={class:"filter-toggles",style:{display:"none"}},Q={class:"overview-totals",id:"overviewTotals"},W={id:"totalResults"},Z={__name:"filter-bar",props:{meals:Array},emits:["updateMeals"],setup(o,{emit:r}){const n=o,c=r,s=h([]),m=h(0),l=()=>{m.value=n.meals.filter(a=>s.value.every(e=>a.categoryLabels.includes(e))).length};y(()=>n.meals,l,{immediate:!0});const p=a=>{let e=a.length,v,M;for(;e!==0;)v=Math.floor(Math.random()*e),e-=1,M=a[e],a[e]=a[v],a[v]=M;return a},g=()=>{s.value=[],l();const a=p([...n.meals]);c("updateMeals",a)},i=a=>{s.value.includes(a)?s.value=s.value.filter(e=>e!==a):s.value.push(a),l()},w=()=>{n.meals.sort((a,e)=>new Date(e.createdAt)-new Date(a.createdAt)),l()};return(a,e)=>(d(),u("div",E,[t("button",{id:"refreshButton",class:"primary overview-refresh-button",onClick:g},e[4]||(e[4]=[F(" Shuffle "),t("span",{class:"icon"},[t("img",{src:q,alt:""})],-1)])),t("div",G,[e[5]||(e[5]=t("span",{class:"label"},"Laat zien:",-1)),t("button",{class:x(["secondary",{active:s.value.includes("betaalbaar")}]),onClick:e[0]||(e[0]=v=>i("betaalbaar"))}," Betaalbaar ",2),t("button",{class:x(["secondary",{active:s.value.includes("gezond")}]),onClick:e[1]||(e[1]=v=>i("gezond"))}," Gezond ",2),t("button",{class:x(["secondary",{active:s.value.includes("snel")}]),onClick:e[2]||(e[2]=v=>i("snel"))}," Snel ",2),t("button",{class:x(["secondary",{active:s.value.includes("verwennerij")}]),onClick:e[3]||(e[3]=v=>i("verwennerij"))}," Verwennerij ",2)]),t("button",{id:"sortByNew",style:{display:"none"},onClick:w}," Nieuwste "),t("div",Q,[t("span",W,b(m.value)+" gerechten",1)])]))}},J=f(Z,[["__scopeId","data-v-b4e224fc"]]),K={},P={id:"messageContainer"};function X(o,r){return d(),u("div",P)}const Y=f(K,[["render",X]]),ee={class:"meal-item__wrapper"},te={class:"meal-image-wrapper"},se=["src","alt"],ae={class:"category-labels"},ne=["innerHTML"],le={class:"meal-info-wrapper"},oe={class:"short-description"},re={__name:"meal-item",props:{meal:Object},setup(o){return(r,n)=>{const c=S;return d(),u("div",ee,[_(c,{to:`/meals/${o.meal.name.replace(/\s+/g,"-").replace(/[^a-z0-9-_]/gi,"").toLowerCase()}`},{default:T(()=>[t("div",te,[t("img",{src:"meal-images/medium/"+o.meal.name.replace(/\s+/g,"_").replace(/[^a-z0-9_]/gi,"").toLowerCase()+".webp",alt:"Gerecht "+o.meal.name,loading:"lazy"},null,8,se),t("ul",ae,[(d(!0),u($,null,k(o.meal.categoryLabels,s=>(d(),u("li",{key:s,innerHTML:s},null,8,ne))),128))])]),t("div",le,[t("h2",null,b(o.meal.name),1),t("div",oe,b(o.meal.description),1)])]),_:1},8,["to"])])}}},ce=f(re,[["__scopeId","data-v-fb1afe1a"]]),ie="data:image/svg+xml,%3csvg%20version='1.1'%20id='loader-1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='60px'%20height='60px'%20viewBox='0%200%2050%2050'%20style='enable-background:new%200%200%2050%2050;'%20xml:space='preserve'%3e%3cpath%20fill='%236bac6b'%20d='M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z'%3e%3canimateTransform%20attributeType='xml'%20attributeName='transform'%20type='rotate'%20from='0%2025%2025'%20to='360%2025%2025'%20dur='0.6s'%20repeatCount='indefinite'/%3e%3c/path%3e%3c/svg%3e",de={},ue={id:"loader",class:"loader-wrapper"};function me(o,r){return d(),u("div",ue,r[0]||(r[0]=[t("div",{class:"loader-image"},[t("img",{src:ie})],-1)]))}const pe=f(de,[["render",me],["__scopeId","data-v-9c66084c"]]),ve={id:"dataContainer"},_e={key:0},he={key:1,class:"meals-container"},fe={__name:"meal-overview",props:{meals:{type:Array,required:!0}},setup(o){const r=o,n=h(r.meals),c=h(!1),s=m=>{c.value=!0,n.value=[],setTimeout(()=>{n.value=m,c.value=!1},200)};return y(()=>r.meals,m=>{s(m)}),(m,l)=>(d(),u("div",ve,[c.value?(d(),u("div",_e,[_(pe)])):(d(),u("div",he,[(d(!0),u($,null,k(n.value,p=>(d(),z(ce,{key:p.id,meal:p},null,8,["meal"]))),128))]))]))}},we=f(fe,[["__scopeId","data-v-d59c5cbe"]]),be={__name:"overview",setup(o){const r=h([]),n=h([]),c=async()=>{try{const p=await(await fetch("https://erikdevos.github.io/meal-time-data/meals.json")).json();r.value=p||[],n.value=[...r.value]}catch(l){console.error("Error getting meals:",l)}},s=l=>{n.value=l},m=l=>{n.value=l};return y(n,l=>{console.log("Filtered Meals:",l)}),I(()=>{c()}),(l,p)=>(d(),u("div",null,[_(V),_(R,{meals:r.value,onUpdateMeals:s},null,8,["meals"]),_(J,{meals:n.value,onUpdateMeals:m},null,8,["meals"]),_(Y),_(we,{meals:n.value},null,8,["meals"])]))}};export{be as default};
